{{ if .IsHome }}
  <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "{{ .Site.Params.mydomain }}",
    "url": "{{ .Permalink }}",
    "description": "{{ .Site.Params.description }}",
    "inLanguage": "en",
    "thumbnailUrl": "{{ "/icon-144.png" | absURL }}",
    "image": {
      "@type": "ImageObject",
      "@id": "{{ "/earn-money.png" | absURL }}",
      "url": "{{ "/earn-money.png" | absURL }}",
      "height": "675",
      "width": "1200"
    }
  }
  </script>
{{ else if .IsPage }}
  {{ if eq .Section "blog" }}
    {{ $image := .Params.image | default "/img/logo.png" }}
    {{ $altText := .Params.alt | default "Default alt text" }}
    {{ $author := or .Params.author .Site.Author.name }}
    {{ $org_name := .Site.Params.mydomain }}
    <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "articleSection": "{{ .Section }}",
      "name": "{{ .Title | safeJS }}",
      "headline": "{{ .Title | safeJS }}",
      "alternativeHeadline": "{{ .Params.subtitle | default "" | safeJS }}",
      "description": "{{ .Summary | markdownify | plainify | safeJS }}",
      "inLanguage": "en",
      "isFamilyFriendly": "true",
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "{{ .Permalink }}"
      },
      "author": {
        "@type": "Person",
        "name": "{{ $author }}",
        {{ with .Site.GetPage "/about" }}"url": "{{ .Permalink }}"{{ end }}
      },
      "creator": {
        "@type": "Person",
        "name": "{{ $author }}"
      },
      "accountablePerson": {
        "@type": "Person",
        "name": "{{ $author }}"
      },
      "copyrightHolder": "{{ $org_name }}",
      "copyrightYear": "{{ .Date.Format "2006" }}",
      "dateCreated": "{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}",
      "datePublished": "{{ .PublishDate.Format "2006-01-02T15:04:05Z07:00" }}",
      "dateModified": "{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}",
      "publisher": {
        "@type": "Organization",
        "name": "{{ $org_name }}",
        "url": "{{ .Permalink }}",
        "logo": {
          "@type": "ImageObject",
          "url": "{{ "/icon-256.png" | absURL }}",
          "width": "256",
          "height": "256"
        }
      },
      "image": {
        "@type": "ImageObject",
        "url": "{{ $image | absURL }}",
        "height": "675",
        "width": "1200",
        "caption": "{{ $altText }}"
      },
      "url": "{{ .Permalink }}",
      "wordCount": "{{ .WordCount }}",
      "genre": [{{ range $index, $tag := .Params.tags }}{{ if $index }}, {{ end }}"{{ $tag }}"{{ end }}]
    }
    </script>
  {{ end }}
{{ end }}
